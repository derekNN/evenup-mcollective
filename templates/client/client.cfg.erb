# Fine managed by puppet - do not modify

collectives = mcollective
libdir = /opt/puppetlabs/mcollective/plugins:/usr/libexec/mcollective
logfile = /var/log/puppetlabs/mcollective/mcollective-client.log
loglevel = info

# Plugins
securityprovider = psk
plugin.psk = <%= scope.lookupvar('psk') %>
direct_addressing = 1

connector = activemq
plugin.activemq.pool.size = 1
plugin.activemq.pool.1.host = <%= scope.lookupvar('stomp_host') %>
plugin.activemq.pool.1.port = <%= scope.lookupvar('stomp_port') %>
plugin.activemq.pool.1.user = <%= scope.lookupvar('stomp_user') %>
plugin.activemq.pool.1.password = <%= scope.lookupvar('stomp_password') %>

# Facts
factsource = yaml
plugin.yaml = /etc/mcollective/facts.yaml

connection_timeout = 3

<% if @plugin_config -%>
<%   @plugin_config.each do |plugin, property| -%>
<%     property.each do |k,v| -%>
plugin.<%= plugin %>.<%= k %> = <%= v %>
<%     end -%>
<%   end -%>
<% end -%>
